{{! We can do this because packageInfo should be the same for every rule }}
{{#with this.0.packageInfo}}
[#{{ shortName }}_package]
== link:#{{ shortName }}_package[{{ title }}]

{{{ description }}}

* Package name: `{{ shortName }}`
* Package full path: `{{ fullName }}`
{{/with}}

{{! Loop over each rule in this package }}
{{#each .}}

[#{{ shortName }}]
=== link:#{{ shortName }}[{{ title }}]

{{{ description }}}

{{#each ruleData}}
The {{ toWords @key }} are:

----
{{#each .}}
{{ . }}
{{/each}}
----

{{/each}}

* Rule type: [rule-type-indicator {{ warningOrFailure }}]#{{ toUpper warningOrFailure }}#
* {{ toTitle warningOrFailure }} message: `{{ failureMsg }}`
* Code: `{{ shortName }}`
{{#if effectiveOn}}
* Effective from: `{{ effectiveOn }}`{{/if}}
* https://github.com/hacbs-contract/ec-policies/blob/main/{{ file }}#L{{ row }}[Source, window="_blank"]

{{/each}}
